# π§­ Spring Exception Handling: μ „λµμ  μμ™Έ μ²λ¦¬

> **ν•΄λ‹Ή ν•™μµμ λ©ν‘:** μ»¨νΈλ΅¤λ¬λ§λ‹¤ μ¤‘λ³µλλ” μμ™Έ μ²λ¦¬ λ΅μ§μ„ λ¶„λ¦¬ν•κ³ , μ „μ—­ μμ™Έ μ²λ¦¬κΈ°(Global Exception Handler)λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ—κ² λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€λ¥Ό λ°ν™ν•λ” κµ¬μ΅°λ¥Ό μ„¤κ³„ν•΄μ•Ό ν•¨.

---

## π›£οΈ Learning Roadmap

```mermaid
graph TD
    classDef point fill:#f9f,stroke:#333,stroke-width:2px;
    classDef flow fill:#e1f5fe,stroke:#01579b,stroke-width:1px;
    classDef core fill:#fff3e0,stroke:#e65100,stroke-width:1px;

    Start((μ‹μ‘)):::point --> Step1["1. μ„λΈ”λ¦Ώ κΈ°λ° μμ™Έ μ²λ¦¬ vs μ¤ν”„λ§ κΈ°λ° μμ™Έ μ²λ¦¬"]:::flow
    Step1 --> Step2["2. @ExceptionHandler (μ»¨νΈλ΅¤λ¬ λ λ²¨)"]:::core
    Step2 --> Step3["3. @ControllerAdvice & @RestControllerAdvice"]:::core
    Step3 --> Step4["4. ResponseStatusExceptionResolver"]:::flow
    Step4 --> Step5["5. μ»¤μ¤ν…€ μμ™Έ ν΄λμ¤ λ° μ—λ¬ μ‘λ‹µ κ°μ²΄ ν‘μ¤€ν™”"]:::core
    Step5 --> Finish((λ„μ°©)):::point

    K1[κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬ - μ¤‘μ•™ μ§‘μ¤‘μ‹ κ΄€λ¦¬]:::core --- Step3
    K2[API μ‘λ‹µ μ¤ν™ ν†µμΌ]:::core --- Step5

```

---

## π” μƒμ„Έ ν•™μµ κ°€μ΄λ“

### **1. @ExceptionHandlerλ¥Ό ν†µν• κ°λ³„ μ²λ¦¬**

* **λ‚΄μ©:** νΉμ • μ»¨νΈλ΅¤λ¬ λ‚΄μ—μ„ λ°μƒν•λ” μμ™Έλ¥Ό μ§μ ‘ μ΅μ•„μ„ μ²λ¦¬ν•λ” λ°©μ‹μ„ ν•™μµν•΄μ•Ό ν•¨.
* **ν•µμ‹¬:** μ»¨νΈλ΅¤λ¬μ λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό μμ™Έ μ²λ¦¬ λ΅μ§μ΄ μ„μ—¬ μ½”λ“κ°€ λΉ„λ€ν•΄μ§€λ” λ‹¨μ μ„ νμ•…ν•κ³ , μ΄λ¥Ό λ¶„λ¦¬ν•  λ°©λ²•μ„ κ³ λ―Όν•΄μ•Ό ν•¨.

### **2. @RestControllerAdviceλ¥Ό μ΄μ©ν• μ „μ—­ μ²λ¦¬**

* **λ‚΄μ©:** ν”„λ΅μ νΈ μ „μ²΄μ—μ„ λ°μƒν•λ” μμ™Έλ¥Ό ν•κ³³μ—μ„ κ°€λ΅μ±„μ–΄ μ²λ¦¬ν•λ” Global Exception Handlerλ¥Ό κµ¬ν„ν•΄μ•Ό ν•¨.
* **Why?** λ¨λ“  μ»¨νΈλ΅¤λ¬μ— μ¤‘λ³µλ μμ™Έ μ²λ¦¬ μ½”λ“λ¥Ό μ κ±°ν•κ³ , μ—λ¬ λ°μƒ μ‹ μΌκ΄€λ JSON μ‘λ‹µ ν•μ‹μ„ μ μ§€ν•κΈ° μ„ν•΄ λ°λ“μ‹ λ„μ…ν•΄μ•Ό ν•¨.

### **3. ResponseStatusExceptionκ³Ό μƒνƒ μ½”λ“ λ§¤ν•‘**

* **λ‚΄μ©:** `@ResponseStatus` μ–΄λ…Έν…μ΄μ…μ΄λ‚ `ResponseStatusException`μ„ ν†µν•΄ HTTP μƒνƒ μ½”λ“(400, 404, 500 λ“±)λ¥Ό μ μ ν λ°ν™ν•λ” λ²•μ„ μµν€μ•Ό ν•¨.
* **ν•µμ‹¬:** μμ™Έμ μ„±κ²©μ— λ§λ” μ •ν™•ν• HTTP μƒνƒ μ½”λ“λ¥Ό μ„ νƒν•μ—¬ ν΄λΌμ΄μ–ΈνΈκ°€ μ—λ¬μ μ›μΈμ„ μ‰½κ² νμ•…ν•  μ μλ„λ΅ μ„¤κ³„ν•΄μ•Ό ν•¨.

### **4. API μ—λ¬ μ‘λ‹µ κ°μ²΄(Error Response Object) ν‘μ¤€ν™”**

* **λ‚΄μ©:** μ—λ¬ μ½”λ“, λ©”μ‹μ§€, λ°μƒ μ‹κ°„ λ“±μ„ λ‹΄μ€ κ³µν†µ μ—λ¬ μ‘λ‹µ κ°μ²΄λ¥Ό μ •μν•΄μ•Ό ν•¨.
* **Why?** ν΄λΌμ΄μ–ΈνΈ(ν”„λ΅ νΈμ—”λ“)κ°€ μ—λ¬ μ‘λ‹µμ„ λ°›μ•μ„ λ•, ν•­μƒ λ™μΌν• κµ¬μ΅°μ JSONμ„ νμ‹±ν•  μ μλ„λ΅ κ·κ²©μ„ μ•½μ†ν•΄μ•Ό ν•¨.

### **5. μ¤ν”„λ§ λ¶€νΈμ κΈ°λ³Έ μμ™Έ μ²λ¦¬ λ©”μ»¤λ‹μ¦**

* **λ‚΄μ©:** μ¤ν”„λ§ λ¶€νΈκ°€ μ κ³µν•λ” `BasicErrorController`μ λ™μ‘ λ°©μ‹κ³Ό `/error` κ²½λ΅λ΅ λ¦¬λ‹¤μ΄λ ‰νΈλλ” κ³Όμ •μ„ μ΄ν•΄ν•΄μ•Ό ν•¨.
* **μƒν™©:** API ν™κ²½μ—μ„λ” HTML μ—λ¬ νμ΄μ§€κ°€ μ•„λ‹ JSON μ‘λ‹µμ΄ μ°μ„ λλ„λ΅ μ„¤μ •μ΄ μ λ€λ΅ λμ–΄ μλ”μ§€ ν™•μΈν•΄μ•Ό ν•¨.

---

## π”— κ΄€λ ¨ μ°Έκ³  μλ£

* [Spring κ³µμ‹ λ¬Έμ„ - Exception Handling](https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-exceptionhandler.html)
* [Error Handling for REST with Spring](https://www.baeldung.com/exception-handling-for-rest-with-spring)